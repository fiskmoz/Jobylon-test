<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    
body {
  margin: 0 auto;
  max-width: 800px;
  padding: 0 20px;
}

.container {
  border: 2px solid #dedede;
  background-color: #f1f1f1;
  border-radius: 5px;
  padding: 10px;
  margin: 10px 0;
}

.darker {
  border-color: #ccc;
  background-color: #ddd;
}

.container::after {
  content: "";
  clear: both;
  display: table;
}

.right {
  float: right;
  color: #aaa;
}

</style>
</head>
<body>

<h2>Chat Messages</h2>

{% for message in messages %}
{% if message.Sender.username == me %}
<div class="container">
  <h3> You: </h3>
  <p>{{ message.Message }} </p>
  <span class="right">{{ message.Date }}</span>
</div>
{% else %}
<div class="container darker">
    <h3>{{ chatfriend }}: </h3>
    <p>{{ message.Message }}</p>
    <span class="right">{{ message.Date }}</span>
  </div>
{% endif %}
{% endfor %}

<form action="" method="POST"> 
    {% csrf_token %}
    {{ form }}
    <br>
    <input class="container" type="submit" value="Send">
</form>
</body>
</html>